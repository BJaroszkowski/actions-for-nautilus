{
	"$schema": "http://json-schema.org/draft-06/schema#",
	"$ref": "#/definitions/ActionsForNautilus",
	"definitions": {
		"MimeType": {
			"type": "string",
			"pattern": "^(!?[A-Za-z0-9-]+\\/(([A-Za-z0-9-]+)|\\*))|(\\*)|(\\*\\/\\*)$",
			"title": "Mimetype"
		},
		"PathPattern": {
			"type": "string",
			"format": "pattern",
			"title": "Path pattern",
			"options": {
				"infoText": "#command:path_pattern"
			}
		},
		"SortStyles": {
			"type": "string",
			"enum": [
				"manual",
				"auto"
			],
			"default": "manual",
			"title": "Menu sorting",
			"options": {
				"infoText": "#root:sort"
			}
		},
		"FileType": {
			"type": "string",
			"enum": [
				"unknown",
				"file",
				"directory",
				"symbolic-link",
				"special",
				"shortcut",
				"mountable",
				"standard",
				"!unknown",
				"!file",
				"!directory",
				"!symbolic-link",
				"!special",
				"!shortcut",
				"!mountable",
				"!standard"
			],
			"title": "File type",
			"options": {
				"infoText": "#command:filetype"
			}
		},
		"Action": {
			"type": "object",
			"format": "categories",
			"headerTemplate": "{{ self.label }}",
			"oneOf": [
				{
					"title": "Command",
					"$ref": "#/definitions/Command"
				},
				{
					"title": "Menu",
					"$ref": "#/definitions/Menu"
				}
			],
			"title":"Action",
			"options": {
				"infoText": "#action"
			}
		},
		"ActionsForNautilus": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"actions": {
					"type": "array",
					"format": "tabs",
					"items": {
						"$ref": "#/definitions/Action"
					},
					"title": "Main Menu",
					"options": {
						"infoText": "#root:actions"
					}
				},
				"sort": {
					"$ref": "#/definitions/SortStyles"
				},
				"debug": {
					"title": "Enable debugging output",
					"type": "boolean",
					"options": {
						"infoText": "#root:debug"
					}
				}
			},
			"required": [
				"actions"
			],
			"options": {
				"disable_properties": true
			},
			"title": "Actions For Nautilus configuration"
		},
		"Menu": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"type": {
					"type": "string",
					"const": "menu",
					"default": "menu",
					"title": "Menu",
					"options": {
						"hidden": true
					}
				},
				"label": {
					"type": "string",
					"minLength": 1,
					"title": "Label for the menu",
					"options": {
						"infoText":  "#submenu:label"
					}
				},
				"sort": {
					"$ref": "#/definitions/SortStyles",
					"title": "Submenu sorting",
					"options": {
						"infoText": "#submenu:sort"
					}
						},
				"actions": {
					"type": "array",
					"format": "tabs",
					"items": {
						"$ref": "#/definitions/Action"
					},
					"title": "Submenu Actions",
					"options": {
						"infoText": "#submenu:actions"
					}
				}
			},
			"required": [
				"label",
				"type",
				"actions"
			],
			"title": "Submenu",
			"options": {
				"infoText": "#submenu",
				"disable_properties": true
			}
		},
		"Command": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"type": {
					"type": "string",
					"const": "command",
					"default": "command",
					"title": "Command",
					"options": {
						"hidden": true
					}
				},
				"label": {
					"type": "string",
					"minLength": 1,
					"title": "Label for the command",
					"options": {
						"infoText": "#command:label",
						"grid_columns": 2,
						"grid_break": true
					}
				},
				"command_line": {
					"type": "string",
					"minLength": 1,
					"title": "Command line to execute",
					"options": {
						"infoText":  "#command:command_line",
						"grid_columns": 5,
						"grid_break": true
					}
				},
				"use_shell": {
					"type": "boolean",
					"title": "Use shell",
					"options": {
						"infoText": "#command:use_shell",
						"grid_columns": 1
					}
				},
				"cwd": {
					"type": "string",
					"minLength": 1,
					"title": "Current working directory",
					"options": {
						"infoText": "#command:cwd",
						"grid_columns": 2
					}
				},
				"max_items": {
					"type": "integer",
					"minimum": 1,
					"title": "Max items",
					"format": "number",
					"options": {
						"infoText": "#command:max_items",
						"grid_columns": 1,
						"grid_break": true
					}
				},
				"mimetypes": {
					"type": "array",
					"uniqueItems": true,
					"format": "table",
					"items": {
						"$ref": "#/definitions/MimeType"
					},
					"title": "Mimetypes",
					"options": {
						"infoText": "#command:mimetypes",
						"grid_columns": 3
					}
		
				},
				"filetypes": {
					"type": "array",
					"uniqueItems": true,
					"format": "table",
					"items": {
						"$ref": "#/definitions/FileType"
					},
					"title": "File types",
					"options": {
						"infoText": "#command:filetypes",
						"grid_columns": 2
					}
				},
				"path_patterns": {
					"type": "array",
					"uniqueItems": true,
					"format": "table",
					"items": {
						"$ref": "#/definitions/PathPattern"
					},
					"title": "Path patterns",
					"options": {
						"infoText": "#command:path_patterns",
						"grid_columns": 2
					}
				}
			},
			"required": [
				"label",
				"type",
				"command_line"
			],
			"title": "Command",
			"options": {
				"infoText": "#command"
			}
		}
	}
}