{
	"$schema": "http://json-schema.org/draft-06/schema#",
	"$ref": "#/definitions/ActionsForNautilus",
	"definitions": {
		"MimeType": {
			"type": "string",
			"pattern": "^(!?[A-Za-z0-9-]+\\/(([A-Za-z0-9-]+)|\\*))|(\\*)|(\\*\\/\\*)$",
			"title": "Mimetype",
			"description": "A standard mimetype specification that, when matched, allows the associated command action to appear in its assigned menu. If the mimetype is prefixed with '!' character then the selected items must NOT match this type."
		},
		"FileType": {
			"type": "string",
			"enum": [
				"unknown",
				"file",
				"directory",
				"symbolic-link",
				"special",
				"shortcut",
				"mountable",
				"standard",
				"!unknown",
				"!file",
				"!directory",
				"!symbolic-link",
				"!special",
				"!shortcut",
				"!mountable",
				"!standard"
			],
			"title": "File type",
			"description": "A standard Nautilus file type that, when matched, allows the associated command action to appear in its assigned menu. If the file type is prefixed with '!' character then the selected items must NOT be of this type."
		},
		"Action": {
			"type": "object",
			"oneOf": [
				{
					"title": "Command",
					"$ref": "#/definitions/Command"
				},
				{
					"title": "Menu",
					"$ref": "#/definitions/Menu"
				}
			],
			"title":"Menu or Command",
			"description": "An entry that will appear in the Nautilus context menu. Such an entry can be a Command or a nested Menu."
		},
		"ActionsForNautilus": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"actions": {
					"type": "array",
					"items": {
						"title": "Menu or command",
						"$ref": "#/definitions/Action"
					},
					"title": "Actions",
					"description": "The list of command and/or menu actions that will added to the Nautilus context menu."
				},
				"debug": {
					"title": "Enable debugging output",
					"type": "boolean",
					"description": "When set to true, extra debugging information is sent to the Nautilus stdout/stderr destinations."
				}
			},
			"required": [
				"actions"
			],
			"title": "Actions For Nautilus configuration"
		},
		"Menu": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"type": {
					"type": "string",
					"const": "menu",
					"title": "Menu"
				},
				"label": {
					"type": "string",
					"minLength": 1,
					"title": "Label for the menu",
					"description": "The label that will appear in the context menu for this sub menu."
				},
				"actions": {
					"type": "array",
					"items": {
						"title": "Submenu or command",
						"$ref": "#/definitions/Action"
					},
					"title": "Actions",
					"description": "The list of command and/or menu actions that will be displayed when this menu action is clicked on."
				}
			},
			"required": [
				"label",
				"type",
				"actions"
			],
			"title": "Submenu",
			"description": "An entry in the Nautilus context menu or sub menu that, when clicked on, results in a sub menu being displayed."
		},
		"Command": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"type": {
					"type": "string",
					"const": "command",
					"title": "Command"
				},
				"label": {
					"type": "string",
					"minLength": 1,
					"title": "Label for the command",
					"description": "The label that will appear in the context menu for this command."
				},
				"command_line": {
					"type": "string",
					"minLength": 1,
					"title": "Command line to execute",
					"description": "The command line to execute when the action is clicked on. Placeholders are allowed and affect the semantics of the execution."
				},
				"cwd": {
					"type": "string",
					"minLength": 1,
					"title": "Current working directory",
					"description": "The Current working directory to set when executing the command. Placeholders are allowed."
				},
				"use_shell": {
					"type": "boolean",
					"title": "Use the system shell to run the command",
					"description": "Instead of directly executing the command, execute it using the default shell command."
				},
				"max_items": {
					"type": "integer",
					"minimum": 1,
					"title": "Maximum number of selected files",
					"description": "The maximum number of files in the selection for which this action will be displayed."
				},
				"mimetypes": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/MimeType"
					},
					"title": "Mimetype rules",
					"description": "A list of file mimetypes for which the action will be displayed, or not be displayed in the event of a '!' prefix."
				},
				"filetypes": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/FileType"
					},
					"title": "Filetype rules",
					"description": "A list of file types for which the action will be displayed, or not be displayed in the event of a '!' prefix."
				}
			},
			"required": [
				"label",
				"type",
				"command_line"
			],
			"title": "Command",
			"description": "An entry in the Nautilus context menu or sub menu that, when clicked on, results in a command being executed."
		}
	}
}